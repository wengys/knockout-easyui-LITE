!function(n){window.define&&window.define.amd?window.define(["knockout","jquery","jquery.jeasyui"],function(e,o){n(e,o)}):n(window.ko,window.jQuery)}(function(n,e){n.bindingHandlers.easyuiOptions={init:function(n,e,o,t,r){},update:function(n,e,o,t,r){},easyuiOptionsVersion:"0.7.1"};var o;!function(o){var t;!function(n){n.isFunction=function(n){return"function"==typeof n},n.isNull=function(n){return null===n},n.isUndefined=function(n){return void 0===n};var e=function(n){return function(e){return null==e?void 0:e[n]}},o=Math.pow(2,53)-1,t=e("length");n.isArray=function(n){var e=t(n);return"number"==typeof e&&e>=0&&e<=o}}(t=o.object||(o.object={}));var r;!function(e){e.each=function(n,e){var o=0,t=n.length;for(o=0;o<t;o++)e(n[o],o,n)},e.all=function(n,e){var o=0,t=n.length;for(o=0;o<t;o++)if(!e(n[o]))return!1;return!0},e.any=function(n,e){var o=0,t=n.length;for(o=0;o<t;o++)if(e(n[o]))return!0;return!1},e.map=function(n,e){var o,t=Array(),r=n.length;for(o=0;o<r;o++)t[o]=e(n[o]);return t},e.findIndex=function(n,e){var o,t=n.length;for(o=0;o<t;o++)if(e(n[o]))return o;return-1},e.findIndexTuple=function(n,e){var o,t=n.length;for(o=0;o<t;o++)if(e(n[o]))return[o,n[o]];return[-1,null]},e.filter=function(n,e){var o,t=Array(),r=n.length;for(o=0;o<r;o++)e(n[o])&&t.push(n[o]);return t},e.clone=function(n){return e.map(n,o.id)},e.sequenceEqual=function(e,t,r){var a=o.array.map(e,r),i=o.array.map(t,r),u=n.utils.compareArrays(a,i);return!o.array.any(u,function(n){return n.hasOwnProperty("index")})}}(r=o.array||(o.array={}));var a;!function(o){o.checkComponentInited=function(n,o){return!!e.data(n,o)},o.initComponent=function(n,o,r,a){var i=r(),u=i.easyuiOptions||{};return t.isFunction(u)&&(u=u()),a&&(u=e.extend({},a,u)),e(n)[o](u),e(n)},o.ensureComponentInited=function(n,e,t,r){o.checkComponentInited(n,e)||o.initComponent(n,e,t,r)},o.bindDisposeEvent=function(t,r){n.utils.domNodeDisposal.addDisposeCallback(t,function(){o.checkComponentInited(t,r)&&e(t)[r]("destroy")})}}(a=o.component||(o.component={}));var i;!function(n){n.treeToArray=function(n){var e=Array(),o=function(n){r.each(n,function(n){e.push(n),n.children&&o(n.children)})};return o(n),e},n.clone=function(n){var e=function(n){var o=r.map(n,function(n){var o={id:n.id,text:n.text,state:n.state,checked:n.checked,attributes:n.attributes,children:null};return n.children?o.children=e(n.children):o.children=[],o});return o};return e(n)}}(i=o.tree||(o.tree={}));var u;!function(n){n.debounce=function(n,e,t){var r,a,i,u,c,l=function(){var s=o.now()-u;r=s<e&&s>=0?setTimeout(l,e-s):0,t||(c=n.apply(i,a),r||(i=a=null))};return function(){i=this,a=arguments,u=o.now();var s=t&&!r;return r||(r=setTimeout(l,e)),s&&(c=n.apply(i,a),i=a=null),c}},n.safeApply=function(n,e){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];t.isFunction(n)&&n.apply(e,o)}}(u=o.func||(o.func={})),o.convertToString=function(n){return t.isNull(n)||t.isUndefined(n)?"":n+""},o.now=Date.now||function(){return(new Date).getTime()},o.id=function(n){return n}}(o||(o={})),n.bindingHandlers.calendarValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"calendar",r);var u=e(n).calendar("options"),c=t();if(!c()){var l=u.current;l&&c(l)}var s=function(o){return function(){c(u.current),o&&o.apply(e(n),arguments)}};u.onSelect=s(u.onSelect)},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).calendar("options").current!==u&&e(o).calendar("moveTo",u)}},n.bindingHandlers.comboboxSource={init:function(n,t,r,a,i){var u=o.component.initComponent(n,"combobox",r),c=u.combobox("options"),l=c.onLoadSuccess;c.onLoadSuccess=function(o){var r=t();r(o),l&&l.apply(e(n),arguments)},o.component.bindDisposeEvent(n,"combobox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).combobox("loadData",u)}},n.bindingHandlers.comboboxValues={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combobox",r);var u=e(n).combobox("getValues"),c=!0;o.array.all(u,function(n){return!n})&&(e(n).combobox("setValues",[]),c=!1);var l=t();!c||l()&&0!==l().length||(u=e(n).combobox("getValues"),l(u));var s=e(n).combobox("options");s.multiple=!0;var d=function(o){return function(){setTimeout(function(){u=e(n).combobox("getValues"),l(u)},1),o&&o.apply(e(n),arguments)}};s.onSelect=d(s.onSelect),s.onUnselect=d(s.onUnselect),o.component.bindDisposeEvent(n,"combobox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).combobox("setValues",u)}},n.bindingHandlers.comboboxValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combobox",r);var u=t();if(!u()){var c=e(n).combobox("getValue");c&&u(c)}var l=e(n).combobox("options");l.multiple=!1;var s=function(o){return function(){setTimeout(function(){u(e(n).combobox("getValue"))},1),o&&o.apply(e(n),arguments)}};l.onSelect=s(l.onSelect),l.onUnselect=s(l.onUnselect),o.component.bindDisposeEvent(n,"combobox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).combobox("getValue")!==u&&e(o).combobox("setValue",u)}},n.bindingHandlers.comboboxText={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combobox",r);var u=t();if(!u()){var c=e(n).combobox("getText");c&&u(c)}var l=e(n).combobox("options"),s=e(n).combo("options");l.multiple=!1;var d=function(o){return function(){setTimeout(function(){var o=e.data(n).combo;u(o.hasOwnProperty("previousText")?o.previousText:e.data(n).combo.previousValue)},1),o&&o.apply(e(n),arguments)}};s.onChange=d(s.onChange),o.component.bindDisposeEvent(n,"combobox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).combobox("getText")!==u&&e(o).combobox("setText",u)}},n.bindingHandlers.combogridSource={init:function(n,t,r,a,i){var u=o.component.initComponent(n,"combogrid",r),c=u.combogrid("options"),l=c.onLoadSuccess;c.onLoadSuccess=function(r){var a=t();a(r.rows),l&&l.apply(e(n),arguments),o.component.bindDisposeEvent(n,"combogrid")}},update:function(t,r,a,i,u){var c=n.utils.unwrapObservable(r()),l=e(t).combogrid("options"),s=function(n){return n[l.idField]},d=e(t).combogrid("grid").datagrid("getData").rows;o.array.sequenceEqual(d,c,s)||e(t).combogrid("grid").datagrid("loadData",c)}},n.bindingHandlers.combogridValues={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combogrid",r,{multiple:!0});var u=e(n).combogrid("getValues");o.array.all(u,function(n){return!n})&&e(n).combogrid("setValues",[]);var c=t();c()&&0!==c().length||(u=e(n).combogrid("getValues"),u&&c(u));var l=e(n).combogrid("grid"),s=e(n).combogrid("options"),d=l.datagrid("options"),p=e(n).combo("options");s.multiple=!0,d.singleSelect=!1;var b=function(t){return function(){var r=e(n).combogrid("getValues");o.array.sequenceEqual(c(),r,o.id)||(c(r),t&&t.apply(e(n),arguments))}};p.onChange=b(p.onChange),o.component.bindDisposeEvent(n,"combogrid")},update:function(t,r,a,i,u){var c=o.array.map(n.utils.unwrapObservable(r()),function(n){return o.convertToString(n)}),l=e(t).combogrid("getValues");e(t).combogrid("options");c?o.array.sequenceEqual(l,c,o.id)||e(t).combogrid("setValues",c):e(t).combogrid("clear")}},n.bindingHandlers.combogridValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combogrid",r,{multiple:!1});var u=t();if(!u()){var c=e(n).combogrid("getValue");c&&u(c)}var l=e(n).combogrid("grid"),s=e(n).combogrid("options"),d=l.datagrid("options"),p=e(n).combo("options");s.multiple=!1,d.singleSelect=!0;var b=function(o){return function(){var t=e(n).combogrid("getValue");u()!==t&&(u(t),o&&o.apply(e(n),arguments))}};p.onChange=b(p.onChange),o.component.bindDisposeEvent(n,"combogrid")},update:function(t,r,a,i,u){var c=o.convertToString(n.utils.unwrapObservable(r())),l=e(t).combogrid("getValue");e(t).combogrid("options");c?l!==c&&e(t).combogrid("setValue",c):e(t).combogrid("clear")}},n.bindingHandlers.combotreeSource={init:function(n,t,r,a,i){var u=o.component.initComponent(n,"combotree",r),c=u.combotree("options"),l=c.onLoadSuccess;c.onLoadSuccess=function(r,a){var i=t(),u=o.tree.treeToArray(i()||[]),c=o.tree.treeToArray(e(n).combotree("tree").tree("getRoots"));o.array.sequenceEqual(u,c,o.id)||(i(o.tree.clone(a)),l&&l.apply(e(n),arguments))},o.component.bindDisposeEvent(n,"combotree")},update:function(t,r,a,i,u){var c=n.utils.unwrapObservable(r())||[],l=o.tree.treeToArray(e(t).combotree("tree").tree("getRoots")),s=o.tree.treeToArray(c);o.array.sequenceEqual(l,s,o.id)||e(t).combotree("loadData",o.tree.clone(c))}},n.bindingHandlers.combotreeValues={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combotree",r,{multiple:!0});var u=e(n).combotree("getValues");o.array.all(u,function(n){return!n})&&e(n).combotree("setValues",[]);var c=t();c()&&0!==c().length||(u=e(n).combogrid("getValues"),u&&c(u));var l=function(t){return function(){var r=e(n).combotree("getValues");o.array.sequenceEqual(c(),r,o.id)||(c(r),t&&t.apply(e(n),arguments))}},s=e(n).combotree("options"),d=e(n).combo("options");s.multiple===!1?(s.onChange=l(s.onChange),s.multiple=!0,e(n).combotree(s)):d.onChange=l(d.onChange),o.component.bindDisposeEvent(n,"combotree")},update:function(t,r,a,i,u){var c=n.utils.unwrapObservable(r()),l=c?o.array.map(c,o.convertToString):[],s=e(t).combotree("getValues");l.length>0?o.array.sequenceEqual(s,l,o.id)||e(t).combotree("setValues",l):e(t).combotree("clear")}},n.bindingHandlers.combotreeValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"combotree",r,{multiple:!1});var u=t();if(!u()){var c=e(n).combogrid("getValue");c&&u(c)}var l=function(o){return function(){var t=e(n).combotree("getValue");u!==t&&(u(t),o&&o.apply(e(n),arguments))}},s=e(n).combotree("options"),d=e(n).combo("options");s.multiple===!0?(s.onChange=l(s.onChange),s.multiple=!1,e(n).combotree(s)):d.onChange=l(d.onChange),o.component.bindDisposeEvent(n,"combotree")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t()),c=e(o).combotree("getValue");u?u!==c&&e(o).combotree("setValue",u):e(o).combotree("clear")}},function(){var t=function(t){n.utils.domNodeDisposal.addDisposeCallback(t,function(){o.component.checkComponentInited(t,"datagrid")&&e(t).data("datagrid",null)})},r=function(n){return e(n).datagrid("options").idField||"id"};n.bindingHandlers.datagridSource={init:function(n,r,a,i,u){var c=o.component.initComponent(n,"datagrid",a),l=c.datagrid("options"),s=l.onLoadSuccess;l.onLoadSuccess=function(t){var a=r();a(t.rows),o.func.safeApply(s,e(n),arguments)},t(n)},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).datagrid("loadData",u)}},n.bindingHandlers.datagridValues={init:function(n,a,i,u,c){o.component.ensureComponentInited(n,"datagrid",i,{singleSelect:!1});var l=r(n),s=a();if(s()&&s().length>0){var d=o.array.clone(e(n).datagrid("getSelections"));s(d)}var p=e(n).datagrid("options");p.singleSelect=!1;var b=function(t){return function(){var r=e(n).datagrid("getSelections");o.array.sequenceEqual(s(),r,function(n){return n[l]})||(s(o.array.clone(r)),o.func.safeApply(t,e(n),arguments))}};p.onSelect=b(p.onSelect),p.onUnselect=b(p.onUnselect),p.onSelectAll=b(p.onSelectAll),p.onUnselectAll=b(p.onUnselectAll),t(n)},update:function(t,a,i,u,c){var l=r(t),s=n.utils.unwrapObservable(a()),d=e(t).datagrid("options");if(s&&s.length>0){var p=e(t).datagrid("getData"),b=[],m=[];o.array.each(s,function(n,e,t){var r=o.array.findIndexTuple(p.rows,function(e){return e[l]==n[l]}),a=r[0],i=r[1];i!==n&&(i?s[e]=i:m.push(e)),a>=0&&b.push(a)}),o.array.each(m,function(n){s.splice(n,1)});var f=d.onUnselectAll,g=d.onSelect;d.onUnselectAll=d.onSelect=function(){},e(t).datagrid("unselectAll"),o.array.each(b,function(n){e(t).datagrid("selectRow",n)}),d.onUnselectAll=f,d.onSelect=g}else e(t).datagrid("unselectAll")}},n.bindingHandlers.datagridValue={init:function(n,a,i,u,c){o.component.ensureComponentInited(n,"datagrid",i,{singleSelect:!0});var l=(r(n),a());if(l()){var s=e(n).datagrid("getSelected");l(s)}var d=e(n).datagrid("options");d.singleSelect=!0;var p=function(t){return function(){var r=e(n).datagrid("getSelected");r!==l()&&l(r),o.func.safeApply(t,e(n),arguments)}},b=function(t){return function(){l(null),o.func.safeApply(t,e(n),arguments)}},m=function(t){return function(){var r=e(n).datagrid("getData");l(r.rows),o.func.safeApply(t,e(n),arguments)}};d.onSelect=p(d.onSelect),d.onUnselect=p(d.onUnselect),d.onSelectAll=m(d.onSelectAll),d.onUnselectAll=b(d.onUnselectAll),t(n)},update:function(n,t,a,i,u){var c=r(n),l=t();e(n).datagrid("options");if(l()){if(o.object.isArray(l()))return;var s=e(n).datagrid("getSelected");if(s&&s[c]===l()[c])return void(s!==l()&&l(s));var d=e(n).datagrid("getData"),p=o.array.findIndexTuple(d.rows,function(n){return n[c]===l()[c]}),b=p[0];p[1];b<0?l(null):e(n).datagrid("selectRow",b)}else e(n).datagrid("unselectAll")}}}(),n.bindingHandlers.dateboxValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"datebox",r);var u=e(n).datebox("options"),c=t();if(!c()){var l=e(n).datebox("getValue");l&&c(l)}var s=function(t){return function(){c(e(n).datebox("getValue")),o.func.safeApply(t,e(n),arguments)}};u.onSelect=s(u.onSelect),o.component.bindDisposeEvent(n,"datebox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).datebox("getValue")!==u&&e(o).datebox("setValue",u)}},n.bindingHandlers.datetimeboxValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"datetimebox",r);var u=e(n).combo("options"),c=t();if(!c()){var l=e(n).datetimebox("getValue");l&&c(l)}var s=function(t){return function(){c(e(n).datetimebox("getValue")),o.func.safeApply(t,e(n),arguments)}};u.onChange=s(u.onChange),o.component.bindDisposeEvent(n,"datetimebox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).datetimebox("getValue")!==u&&e(o).datetimebox("setValue",u)}},n.bindingHandlers.numberboxValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"numberbox",r);var u=t();u()||u(parseFloat(e(n).numberbox("getValue")));var c=e(n).textbox||e(n).numberbox,l=c.call(e(n),"options"),s=l.onChange;l.onChange=function(r,a){r=parseFloat(r),u=t(),u()!==r&&(u(r),o.func.safeApply(s,e(n),arguments))},o.component.bindDisposeEvent(n,"numberbox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).numberbox("setValue",u),e(o).numberbox("getValue")?e(o).removeClass("validatebox-invalid"):e(o).numberbox("options").required&&e(o).addClass("validatebox-invalid")}},n.bindingHandlers.numberspinnerValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"numberspinner",r);var u=t();u()||u(parseFloat(e(n).numberspinner("getValue")));var c=e(n).textbox||e(n).numberbox,l=c.call(e(n),"options"),s=l.onChange;l.onChange=function(r,a){r=parseFloat(r),u=t(),u()!==r&&(u(r),o.func.safeApply(s,e(n),arguments))},o.component.bindDisposeEvent(n,"numberspinner")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).numberspinner("setValue",u);var c=e(o).numberspinner("getValue");c?(e(o).removeClass("validatebox-invalid"),c!==u&&t()(parseFloat(c))):e(o).numberspinner("options").required&&e(o).addClass("validatebox-invalid")}},n.bindingHandlers.progressbarValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"progressbar",r);var u=t();u()||u(e(n).progressbar("getValue"));var c=e(n).progressbar("options"),l=c.onChange;c.onChange=function(n,e){n=parseFloat(n);var o=t();o()!==n&&(o(n),l&&l.apply(this,arguments))},o.component.bindDisposeEvent(n,"progressbar")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).progressbar("setValue",u);var c=e(o).progressbar("getValue");u!==c&&t()(c)}},n.bindingHandlers.sliderValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"slider",r);var u=t();u()||u(e(n).slider("getValue"));var c=e(n).slider("options"),l=c.onChange;c.onChange=function(n,e){n!==u()&&(u(n),l&&l.apply(this,arguments))},o.component.bindDisposeEvent(n,"slider")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).slider("getValue")!==u&&e(o).slider("setValue",u)}},n.bindingHandlers.textboxValue={init:function(n,t,r,a,i){o.component.ensureComponentInited(n,"textbox",r);var u=t();u()||u(e(n).textbox("getValue"));var c=e(n).textbox("options"),l=c.onChange;c.onChange=function(r,a){u=t(),u()!==r&&(u(r),o.func.safeApply(l,e(n),arguments))},o.component.bindDisposeEvent(n,"textbox")},update:function(o,t,r,a,i){var u=n.utils.unwrapObservable(t());e(o).textbox("setValue",u)}},n.bindingHandlers.window={init:function(t,r,a,i,u){setTimeout(function(){o.component.ensureComponentInited(t,"window",a,{closed:!0}),e.data(t).panel.options.onBeforeClose=function(){r()(!1)},n.computed(function(){var o=n.unwrap(r());o?e(t).window("open"):e(t).window("close")})},1)}}});
//# sourceMappingURL=knockout-easyui.amd.js.map
